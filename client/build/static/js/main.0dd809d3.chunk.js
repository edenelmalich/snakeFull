(this.webpackJsonpsnakegame=this.webpackJsonpsnakegame||[]).push([[0],{122:function(e,t){},125:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(12),r=a.n(s),c=a(36),i=a(37),l=a(43),u=a(38),m=a(44),p=a(20),d=function(e){var t=e.snake,a=e.bg;return o.a.createElement(n.Fragment,null,t.map((function(e,t){var n={left:"".concat(e[0],"%"),top:"".concat(e[1],"%"),background:a};return o.a.createElement("div",{className:"Snake-cord ",key:t,style:n})})))},f=a(75),h=a.n(f),g=function(e){var t=e.food,a={left:"".concat(t[0],"%"),top:"".concat(t[1],"%")};return o.a.createElement("img",{src:h.a,className:"Food",style:a,alt:"food"})},k=function(e){var t=e.obstacle,a=e.top;return o.a.createElement(n.Fragment,null,t.map((function(e,t){var n={left:"".concat(a,"%"),top:"".concat(e,"%")};return o.a.createElement("div",{className:"Obstacle-cord",key:t,style:n})})))},E=a(76),S=a.n(E),b=function(e){var t=e.poison,a={left:"".concat(t[0],"%"),top:"".concat(t[1],"%")};return o.a.createElement("img",{src:S.a,className:"Poison",style:a,alt:"poison"})},y=a(26),v=a(3),O=a.n(v),D=a(128),T=a(130),M=a(16),j=function(e){return function(t){t({type:"SET_MODAL",payload:e})}},C=a(18),N=function(e){var t=e.getModalState,a=e.setModal,s=e.getScore,r=e.getModalText,c=Object(n.useState)(!1),i=Object(y.a)(c,2),l=i[0],u=i[1];return l?(a(t),o.a.createElement(C.a,{to:"/"})):o.a.createElement(n.Fragment,null,o.a.createElement(D.a,{show:t,onHide:function(){return a(t)}},o.a.createElement(D.a.Header,{closeButton:!0},o.a.createElement(D.a.Title,null,"Game over")),r?o.a.createElement(n.Fragment,null,o.a.createElement(D.a.Body,null,"Game Over. Your score is: ",s," ")):o.a.createElement(n.Fragment,null,"Draw"),o.a.createElement(D.a.Footer,null,o.a.createElement(T.a,{onClick:function(){return u(!0)},variant:"secondary"},"Exit"),o.a.createElement(T.a,{onClick:function(){return a(t)},variant:"primary"},"Play again"))))};N.propType={getModalState:O.a.bool.isRequired,setModal:O.a.func.isRequired,getScore:O.a.number.isRequired,getModalText:O.a.bool.isRequired};Object(M.b)((function(e){return{getModalState:e.modalReducer.getModalState,getScore:e.gameReducer.getScore,setModalText:e.modalReducer.setModalText}}),{setModal:j})(N);var R=a(42),I=a.n(R),G=(a(74),function(){return[2*Math.floor((97*Math.random()+1)/2),2*Math.floor((97*Math.random()+1)/2)]}),x={food:G(),poison:G(),speed:100,direction:"RIGHT",enemyDirection:"RIGHT",snakeDots:[[0,0],[2,0]],snake2Dots:[[0,40],[2,40]],obstacle:[8,10,12,14,16],obstacle1:[60,62,64,66,68],spinner:!1},w=I.a.connect("http://localhost:4000"),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state=x,a.onKeyDown=function(e){var t=a.props.location.state.playerName;switch(e.keyCode){case 38:a.setState({direction:"UP"}),w.emit("directionChange",{playerName:t,direction:"UP"});break;case 40:a.setState({direction:"DOWN"}),w.emit("directionChange",{playerName:t,direction:"DOWN"});break;case 37:a.setState({direction:"LEFT"}),w.emit("directionChange",{playerName:t,direction:"LEFT"});break;case 39:a.setState({direction:"RIGHT"}),w.emit("directionChange",{playerName:t,direction:"RIGHT"})}},a.moveSnake=function(){var e=Object(p.a)(a.state.snakeDots),t=e[e.length-1];switch(a.state.direction){case"RIGHT":t=[t[0]+2,t[1]];break;case"LEFT":t=[t[0]-2,t[1]];break;case"DOWN":t=[t[0],t[1]+2];break;case"UP":t=[t[0],t[1]-2]}e.push(t),e.shift(),a.setState({snakeDots:e})},a.moveEnemySnake=function(){var e=Object(p.a)(a.state.snake2Dots),t=e[e.length-1];switch(a.state.enemyDirection){case"RIGHT":t=[t[0]+2,t[1]];break;case"LEFT":t=[t[0]-2,t[1]];break;case"DOWN":t=[t[0],t[1]+2];break;case"UP":t=[t[0],t[1]-2]}e.push(t),e.shift(),a.setState({snake2Dots:e})},a.checkIfEat=function(){var e=a.state.snakeDots[a.state.snakeDots.length-1],t=a.state.snake2Dots[a.state.snake2Dots.length-1],n=a.state.food;e[0]===n[0]&&e[1]===n[1]&&(a.setState({food:G()}),a.props.setScore(a.props.getScore+1),a.enlargeSnake("snake"),a.increaseSpeed()),t[0]===n[0]&&t[1]===n[1]&&(a.setState({food:G()}),a.props.setEnemyScore(a.props.getEnemyScore+1),a.enlargeSnake("snakeEnemy"),a.increaseSpeed())},a.checkIfEatPoison=function(){var e=a.state.snakeDots[a.state.snakeDots.length-1],t=a.state.snake2Dots[a.state.snake2Dots.length-1],n=a.state.poison;e[0]===n[0]&&e[1]===n[1]&&(a.setState({poison:G()}),a.props.getScore>0&&a.prop.setScore(a.props.getScore-1),a.SnakePoison("snake"),a.decreaseSpeed()),t[0]===n[0]&&t[1]===n[1]&&(a.setState({poison:G()}),a.props.getEnemyScore>0&&a.prop.setEnemyScore(a.props.getEnemyScore-1),a.SnakePoison("snakeEnemy"),a.decreaseSpeed())},a.checkIfOutOfBorders=function(){var e=a.state.snakeDots[a.state.snakeDots.length-1],t=a.state.snake2Dots[a.state.snake2Dots.length-1];(e[0]>=100||t[0]>=100||t[1]>=100||e[1]>=100||e[0]<0||t[0]<0||t[1]<0||e[1]<0)&&a.GameOver()},a.checkIfTouch=function(){var e=a.state.snakeDots[a.state.snakeDots.length-1],t=a.state.snake2Dots[a.state.snake2Dots.length-1];a.state.obstacle.forEach((function(n){(80===e[0]&&e[1]===n||80===t[0]&&t[1]===n)&&a.GameOver()})),a.state.obstacle1.forEach((function(n){(50===e[0]&&e[1]===n||50===t[0]&&t[1]===n)&&a.GameOver()}))},a.checkIfDraw=function(){var e=a.state.snakeDots[a.state.snakeDots.length-1],t=a.state.snake2Dots[a.state.snake2Dots.length-1];e[0]===t[0]&&e[1]===t[1]&&(a.prop.setModalText(a.props.getModalText),a.GameOver())},a.checkIfCollapsed=function(){var e=Object(p.a)(a.state.snakeDots),t=e[e.length-1];e.pop(),e.forEach((function(e){t[0]===e[0]&&t[1]===e[1]&&a.GameOver()}))},a.enlargeSnake=function(e){var t=Object(p.a)(a.state.snakeDots),n=Object(p.a)(a.state.snake2Dots);"snake"===e?(t.unshift([]),a.setState({snakeDots:t})):(n.unshift([]),a.setState({snake2Dots:n}))},a.SnakePoison=function(e){var t=Object(p.a)(a.state.snakeDots),n=Object(p.a)(a.state.snake2Dots);"snake"===e?(t.shift([]),a.setState({snakeDots:t})):(n.shift([]),a.setState({snake2Dots:n}))},a.increaseSpeed=function(){a.state.speed>10&&a.setState({speed:a.state.speed-10})},a.decreaseSpeed=function(){a.setState({speed:a.state.speed+10})},a.GameOver=function(){a.props.setModal(a.props.getModalState),a.setState(x)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;setInterval(this.moveSnake,this.state.speed),setInterval(this.moveEnemySnake,this.state.speed),w.on("enemyChangedDirection",(function(t){e.setState({enemyDirection:t.direction})})),document.onkeydown=this.onKeyDown}},{key:"componentDidUpdate",value:function(){0===this.state.snakeDots.length?this.onGameOver():(this.checkIfOutOfBorders(),this.checkIfCollapsed(),this.checkIfEat(),this.checkIfTouch(),this.checkIfEatPoison(),this.checkIfDraw())}},{key:"render",value:function(){return o.a.createElement("div",{className:"game-container"},o.a.createElement("span",{className:"Score"},this.props.location.state.playerName," Your Score is:"," ",this.props.getScore),o.a.createElement("span",{className:"ScorePlayer2"},this.props.location.state.getName," Your Score is:"," ",this.props.getEnemyScore),o.a.createElement("div",{className:"game-area"},o.a.createElement(d,{snake:this.state.snakeDots,bg:"#00e676"}),o.a.createElement(d,{snake:this.state.snake2Dots,bg:"blue"}),o.a.createElement(g,{food:this.state.food}),o.a.createElement(b,{poison:this.state.poison}),o.a.createElement(k,{obstacle:this.state.obstacle,top:80}),o.a.createElement(k,{obstacle:this.state.obstacle1,top:50})))}}]),t}(n.Component),_=Object(M.b)((function(e){return{getModalState:e.modalReducer.getModalState,getScore:e.gameReducer.getScore,getEnemyScore:e.gameReducer.getEnemyScore,getModalText:e.modalReducer.getModalText}}),{setModal:j,setScore:function(e){return function(t){t({type:"SET_SCORE",payload:e})}},setEnemyScore:function(e){return function(t){t({type:"SET_ENEMY_SCORE",payload:e})}},setModalText:function(e){return function(t){t({type:"SET_MODAL_TEXT",payload:e})}}})(P),F=a(129),L=function(){return o.a.createElement(n.Fragment,null,o.a.createElement(F.a,{bg:"dark",variant:"dark"},o.a.createElement(F.a.Brand,{href:"#home"},"Snake Game")))},A=a(81),H=a.n(A),U=a(127),B=I.a.connect("http://localhost:4000"),W=Object(M.b)((function(e){return{getClientsCounter:e.gameReducer.getClientsCounter}}),{setClientsCounter:function(e){return function(t){t({type:"GET_CLIENT_COUNTER",payload:e})}}})((function(e){var t=e.getClientsCounter,a=e.setClientsCounter,s=Object(n.useState)(""),r=Object(y.a)(s,2),c=r[0],i=r[1],l=Object(n.useState)(""),u=Object(y.a)(l,2),m=u[0],p=u[1],d=Object(n.useState)(!1),f=Object(y.a)(d,2),h=f[0],g=f[1];return B.on("getPlayersName",(function(e){p(e.playerA.name)})),B.on("success",(function(e){a(e)})),t?o.a.createElement(C.a,{to:{pathname:"/GameArea",state:{getName:c,playerName:m}}}):o.a.createElement("div",{className:"main"},o.a.createElement("header",{className:"header"},"Snake Game"),o.a.createElement("img",{src:H.a,alt:"snake logo"}),o.a.createElement("form",{className:"MainForm",onSubmit:function(e){return function(e){e.preventDefault(),B.emit("playerID",{socketID:B.id,name:c}),t||g(!0)}(e)}},o.a.createElement("input",{type:"text",placeholder:"Please enter your name",onChange:function(e){return function(e){i(e.target.value)}(e)},value:c,required:!0}),o.a.createElement("input",{type:"submit",value:"Play"}),h?o.a.createElement("span",null,o.a.createElement("div",{className:"Spinner-text"},"Please wait for more player"),o.a.createElement(U.a,{animation:"border",variant:"dark"})):null))})),q=a(35),Y=a(15),J=a(82),K=a(83),X=a(21),z={getModalState:!1,getModalText:!1},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_MODAL":return Object(X.a)({},e,{getModalState:!n});case"SET_MODAL_TEXT":return Object(X.a)({},e,{getModalText:!n});default:return e}},V={getScore:0,getEnemyScore:0,getClientsCounter:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_SCORE":return Object(X.a)({},e,{getScore:n});case"SET_ENEMY_SCORE":return Object(X.a)({},e,{getEnemyScore:n});case"GET_CLIENT_COUNTER":return Object(X.a)({},e,{getClientsCounter:n});default:return e}},$=Object(Y.combineReducers)({modalReducer:Q,gameReducer:Z}),ee=[J.a],te=Object(Y.createStore)($,{},Object(K.composeWithDevTools)(Y.applyMiddleware.apply(void 0,ee))),ae=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(M.a,{store:te},o.a.createElement(q.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(L,null),o.a.createElement(C.d,null,o.a.createElement(C.b,{path:"/",component:W,exact:!0}),o.a.createElement(C.b,{path:"/GameArea",component:_})))))}}]),t}(n.Component);r.a.render(o.a.createElement(ae,null),document.getElementById("root"))},74:function(e,t,a){},75:function(e,t,a){e.exports=a.p+"static/media/apple.30832537.png"},76:function(e,t,a){e.exports=a.p+"static/media/poison.6d0adcb4.png"},81:function(e,t,a){e.exports=a.p+"static/media/SnakeLogo.f2ce4eac.png"},85:function(e,t,a){e.exports=a(125)}},[[85,1,2]]]);
//# sourceMappingURL=main.0dd809d3.chunk.js.map
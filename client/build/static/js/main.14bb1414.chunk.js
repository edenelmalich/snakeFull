(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t){},117:function(e,t,a){"use strict";a.r(t);var n,s,o=a(0),r=a.n(o),c=a(17),i=a.n(c),l=a(27),p=a(28),u=a(32),m=a(29),f=a(33),d=a(10),S=function(e){var t=e.snake,a=e.bg;return r.a.createElement(o.Fragment,null,t.map((function(e,t){var n={left:"".concat(e[0],"%"),top:"".concat(e[1],"%"),background:a};return r.a.createElement("div",{className:"Snake-cord ",key:t,style:n})})))},h=a(64),E=a.n(h),k=function(e){var t=e.food,a={left:"".concat(t[0],"%"),top:"".concat(t[1],"%")};return r.a.createElement("img",{src:E.a,className:"Food",style:a,alt:"food"})},g=function(e){var t=e.obstacle,a=e.top;return r.a.createElement(o.Fragment,null,t.map((function(e,t){var n={left:"".concat(a,"%"),top:"".concat(e,"%")};return r.a.createElement("div",{className:"Obstacle-cord",key:t,style:n})})))},y=a(65),b=a.n(y),v=function(e){var t=e.poison,a={left:"".concat(t[0],"%"),top:"".concat(t[1],"%")};return r.a.createElement("img",{src:b.a,className:"Poison",style:a,alt:"poison"})},D=(a(47),a(12)),O=function(e){return function(t){t({type:"SET_SCORE",payload:e})}},j=function(e){return function(t){t({type:"SET_ENEMY_SCORE",payload:e})}},N=function(e){return function(t){t({type:"SET_STOP_GAME",payload:e})}},R=a(42),T=a(13),w=Object(R.debounce)((function(e){e.emit("snakeAte",{})}),250),G=Object(R.debounce)((function(e){e.emit("snakeAtePoison",{})}),250),P={food:[30,30],poison:[80,80],speed:100,direction:"RIGHT",enemyDirection:"RIGHT",snakeDots:[[0,0],[2,0]],snake2Dots:[[0,40],[2,40]],obstacle:[8,10,12,14,16],obstacle1:[60,62,64,66,68],spinner:!1,player1:"",player2:"",finishGame:!1},I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=P,a.onKeyDown=function(e){switch(e.keyCode){case 38:a.setState({direction:"UP"}),a.props.socket.emit("directionChange",{playerName:a.state.player2,direction:"UP"});break;case 40:a.setState({direction:"DOWN"}),a.props.socket.emit("directionChange",{playerName:a.state.player2,direction:"DOWN"});break;case 37:a.setState({direction:"LEFT"}),a.props.socket.emit("directionChange",{playerName:a.state.player2,direction:"LEFT"});break;case 39:a.setState({direction:"RIGHT"}),a.props.socket.emit("directionChange",{playerName:a.state.player2,direction:"RIGHT"})}},a.moveSnake=function(){var e=Object(d.a)(a.state.snakeDots),t=e[e.length-1];switch(a.state.direction){case"RIGHT":t=[t[0]+2,t[1]];break;case"LEFT":t=[t[0]-2,t[1]];break;case"DOWN":t=[t[0],t[1]+2];break;case"UP":t=[t[0],t[1]-2]}e.push(t),e.shift(),a.setState({snakeDots:e})},a.moveEnemySnake=function(){var e=Object(d.a)(a.state.snake2Dots),t=e[e.length-1];switch(a.state.enemyDirection){case"RIGHT":t=[t[0]+2,t[1]];break;case"LEFT":t=[t[0]-2,t[1]];break;case"DOWN":t=[t[0],t[1]+2];break;case"UP":t=[t[0],t[1]-2]}e.push(t),e.shift(),a.setState({snake2Dots:e})},a.checkIfEat=function(){var e=a.state.snakeDots[a.state.snakeDots.length-1],t=a.state.food;e[0]===t[0]&&e[1]===t[1]&&(a.setState({food:[-50,-50]}),w(a.props.socket),a.props.setScore(a.props.getScore+1),a.enlargeSnake("snake"),a.increaseSpeed())},a.checkIfEatPoison=function(){var e=a.state.snakeDots[a.state.snakeDots.length-1],t=a.state.poison;e[0]===t[0]&&e[1]===t[1]&&(a.setState({poison:[-50,-50]}),G(a.props.socket),a.props.getScore>0&&a.props.setScore(a.props.getScore-1),a.SnakePoison("snake"),a.increaseSpeed())},a.checkIfOutOfBorders=function(){var e=a.state.snakeDots[a.state.snakeDots.length-1],t=a.state.snake2Dots[a.state.snake2Dots.length-1];(e[0]>=100||e[1]>=100||t[0]>=100||t[1]>=100||e[0]<0||e[1]<0||t[0]<0||t[1]<0)&&a.GameOver()},a.checkIfTouch=function(){var e=a.state.snakeDots[a.state.snakeDots.length-1],t=a.state.snake2Dots[a.state.snake2Dots.length-1];a.state.obstacle.forEach((function(n){(80===e[0]&&e[1]===n||80===t[0]&&t[1]===n)&&a.GameOver()})),a.state.obstacle1.forEach((function(n){(50===e[0]&&e[1]===n||50===t[0]&&t[1]===n)&&a.GameOver()}))},a.checkIfDraw=function(){var e=a.state.snakeDots[a.state.snakeDots.length-1],t=a.state.snake2Dots[a.state.snake2Dots.length-1];e[0]===t[0]&&e[1]===t[1]&&(a.props.setDraw(!0),a.GameOver())},a.checkIfCollapsed=function(){var e=Object(d.a)(a.state.snakeDots),t=e[e.length-1];e.pop(),e.forEach((function(e){t[0]===e[0]&&t[1]===e[1]&&a.GameOver()}))},a.checkIfEnemyCollapsed=function(){var e=Object(d.a)(a.state.snake2Dots);console.log(e);var t=e[e.length-1];e.pop(),console.log(e),e.forEach((function(e){t[0]===e[0]&&t[1]===e[1]&&a.GameOver()}))},a.enlargeSnake=function(e){var t;e?((t=Object(d.a)(a.state.snakeDots)).unshift([]),a.setState({snakeDots:t})):((t=Object(d.a)(a.state.snake2Dots)).unshift([]),a.setState({snake2Dots:t}))},a.SnakePoison=function(e){var t;e?((t=Object(d.a)(a.state.snakeDots)).shift(),a.setState({snakeDots:t})):((t=Object(d.a)(a.state.snake2Dots)).shift(),a.setState({snake2Dots:t}))},a.increaseSpeed=function(){a.state.speed>10&&a.setState({speed:a.state.speed-10})},a.decreaseSpeed=function(){a.setState({speed:a.state.speed+10})},a.GameOver=function(){clearInterval(n),clearInterval(s),a.setState({finishGame:!0})},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;n=setInterval(this.moveSnake,this.state.speed),s=setInterval(this.moveEnemySnake,this.state.speed),this.props.socket.on("enemyChangedDirection",(function(t){e.setState({enemyDirection:t.direction})})),this.props.socket.on("newEnemySnake",(function(t){e.setState({snake2Dots:t.snakeEnemyDots})})),this.props.socket.on("newAppleCord",(function(t){e.setState({food:t.food})})),this.props.socket.on("enemyAte",(function(){e.props.setEnemyScore(e.props.getEnemyScore+1);e.enlargeSnake(!1)})),this.props.socket.on("newApplePoisonCord",(function(t){e.setState({poison:t.poison})})),this.props.socket.on("enemyAtePoison",(function(){e.props.getEnemyScore>0&&e.props.setEnemyScore(e.props.getEnemyScore-1);e.enlargeSnake(!1)})),document.onkeydown=this.onKeyDown}},{key:"componentDidUpdate",value:function(){0===this.state.snakeDots.length||0===this.state.snake2Dots?this.GameOver():(this.checkIfOutOfBorders(),this.checkIfCollapsed(),this.checkIfEnemyCollapsed(),this.checkIfEat(),this.checkIfTouch(),this.checkIfEatPoison(),this.checkIfDraw())}},{key:"render",value:function(){return this.state.finishGame?r.a.createElement(T.a,{to:"/FinishGame"}):r.a.createElement("div",{className:"game-container"},r.a.createElement("span",{className:"Score"},this.props.player," Your Score is: ",this.props.getScore),r.a.createElement("span",{className:"ScorePlayer2"},this.props.player2," Your Score is: ",this.props.getEnemyScore),r.a.createElement("div",{className:"game-area"},r.a.createElement(S,{snake:this.state.snakeDots,bg:"#00e676"}),r.a.createElement(S,{snake:this.state.snake2Dots,bg:"blue"}),r.a.createElement(k,{food:this.state.food}),r.a.createElement(v,{poison:this.state.poison}),r.a.createElement(g,{obstacle:this.state.obstacle,top:80}),r.a.createElement(g,{obstacle:this.state.obstacle1,top:50})))}}]),t}(o.Component),A=Object(D.b)((function(e){return{getScore:e.gameReducer.getScore,getEnemyScore:e.gameReducer.getEnemyScore,player:e.gameReducer.player,player2:e.gameReducer.player2,getStopState:e.gameReducer.getStopState}}),{setScore:O,setEnemyScore:j,setStop:N,setDraw:function(e){return function(t){t({type:"SET_DRAW",payload:e})}}})(I),C=a(120),_=function(){return r.a.createElement(o.Fragment,null,r.a.createElement(C.a,{bg:"dark",variant:"dark"},r.a.createElement(C.a.Brand,{href:"#home"},"Snake Game")))},F=a(14),Y=a(31),x=a.n(Y),L=a(119),M=Object(D.b)((function(e){return{getStopState:e.gameReducer.getStopState}}),{setPlayer2Name:function(e){return function(t){t({type:"SET_PLAYER2_NAME",payload:e})}},setPlayerName:function(e){return function(t){t({type:"SET_PLAYER_NAME",payload:e})}}})((function(e){var t=e.socket,a=e.setPlayer2Name,n=e.setPlayerName,s=Object(o.useState)(""),c=Object(F.a)(s,2),i=c[0],l=c[1],p=Object(o.useState)(!1),u=Object(F.a)(p,2),m=u[0],f=u[1],d=Object(o.useState)(!1),S=Object(F.a)(d,2),h=S[0],E=S[1],k=Object(o.useState)(!1),g=Object(F.a)(k,2),y=g[0],b=g[1];return t.on("ready",(function(e){e&&b(!0)})),h&&y?r.a.createElement(T.a,{to:"/GameArea"}):r.a.createElement("div",{className:"main"},r.a.createElement("header",{className:"header"},"Snake Game"),r.a.createElement("img",{src:x.a,alt:"snake logo"}),r.a.createElement("form",{className:"MainForm",onSubmit:function(e){return function(e){e.preventDefault(),n(i),t.emit("playerDetails",t.id,i),t.on("startGame",(function(e){a(e),E(!0)})),h||f(!0)}(e)}},r.a.createElement("input",{type:"text",placeholder:"Please enter your name",onChange:function(e){return function(e){l(e.target.value)}(e)},value:i,required:!0}),r.a.createElement("input",{type:"submit",value:"Play"}),m?r.a.createElement("span",null,r.a.createElement("div",{className:"Spinner-text"},"Please wait for more player"),r.a.createElement(L.a,{animation:"border",variant:"dark"})):null))})),W=a(3),q=a.n(W),H=function(e){var t=e.getScore,a=e.getDrawState,n=e.getEnemyScore,s=e.player,c=e.setScore,i=e.setEnemyScore,l=Object(o.useState)(!1),p=Object(F.a)(l,2),u=p[0],m=p[1];return u?(c(0),i(0),r.a.createElement(T.a,{to:"/"})):r.a.createElement("div",null,r.a.createElement("header",{className:"finish-header"},"Game over"),r.a.createElement("img",{id:"FinishLogo",src:x.a,alt:"snake logo"}),a?r.a.createElement("div",{className:"finish-text"},"Draw"):r.a.createElement("div",null,t>n?r.a.createElement("div",{className:"finish-text"},s," You Win. Your score is: ",t):null,t<n?r.a.createElement("div",{className:"finish-text"},s," You Lose. Your score is: ",t):null,t===n?r.a.createElement("div",{className:"finish-text"},"Draw"):null),r.a.createElement("button",{className:"finish-btn",onClick:function(){return m(!0)}},"Finish game"))};H.propType={getScore:q.a.number.isRequired,getEnemyScore:q.a.number.isRequired,getDrawState:q.a.bool.isRequired,setStop:q.a.func.isRequired,player:q.a.string.isRequired};var U=Object(D.b)((function(e){return{getScore:e.gameReducer.getScore,getEnemyScore:e.gameReducer.getEnemyScore,getDrawState:e.gameReducer.getDrawState,player:e.gameReducer.player}}),{setStop:N,setScore:O,setEnemyScore:j})(H),B=a(19),J=a(11),K=a(70),z=a(71),Q=a(15),V={getScore:0,getEnemyScore:0,player:"",player2:"",getStopState:!1,getDrawState:!1},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_SCORE":return Object(Q.a)({},e,{getScore:n});case"SET_ENEMY_SCORE":return Object(Q.a)({},e,{getEnemyScore:n});case"SET_PLAYER2_NAME":return Object(Q.a)({},e,{player2:n});case"SET_PLAYER_NAME":return Object(Q.a)({},e,{player:n});case"SET_STOP_GAME":return Object(Q.a)({},e,{getStopState:n});case"SET_DRAW":return Object(Q.a)({},e,{getDrawState:n});default:return e}},Z=Object(J.combineReducers)({gameReducer:X}),$=[K.a],ee=Object(J.createStore)(Z,{},Object(z.composeWithDevTools)(J.applyMiddleware.apply(void 0,$))),te=a(72),ae=a.n(te).a.connect("http://localhost:4000"),ne=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(D.a,{store:ee},r.a.createElement(B.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(_,null),r.a.createElement(T.d,null,r.a.createElement(T.b,{path:"/",render:function(e){return r.a.createElement(M,Object.assign({socket:ae},e))},exact:!0}),r.a.createElement(T.b,{path:"/GameArea",render:function(e){return r.a.createElement(A,Object.assign({socket:ae},e))}}),r.a.createElement(T.b,{path:"/FinishGame",component:U})))))}}]),t}(o.Component);i.a.render(r.a.createElement(ne,null),document.getElementById("root"))},31:function(e,t,a){e.exports=a.p+"static/media/SnakeLogo.f2ce4eac.png"},47:function(e,t,a){},64:function(e,t,a){e.exports=a.p+"static/media/apple.30832537.png"},65:function(e,t,a){e.exports=a.p+"static/media/poison.6d0adcb4.png"},76:function(e,t,a){e.exports=a(117)}},[[76,1,2]]]);
//# sourceMappingURL=main.14bb1414.chunk.js.map